# =============================================================================
# USIV PDF SERVICE - CONFIGURACIÓN DE APLICACIÓN
# =============================================================================

# Información de la aplicación
spring.application.name=usiv-pdf-service
spring.application.version=1.0.0
spring.application.description=Servicio de generación y firma digital de PDFs

# =============================================================================
# CONFIGURACIÓN DE AUTENTICACIÓN
# =============================================================================
api.admin.username=admin
api.admin.password=UsivAdmin2025!
api.user.username=user
api.user.password=user123

# =============================================================================
# CONFIGURACIÓN DEL SERVIDOR
# =============================================================================
server.port=8080
server.servlet.context-path=/
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# Configuración de compresión
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# Configuración de timeout
server.tomcat.connection-timeout=20000
server.tomcat.max-connections=8192
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# =================================================================
# CONFIGURACIÓN DE LOGGING
# =================================================================
logging.level.root=INFO
logging.level.com.usiv=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=INFO

# Configuración de archivos de log
logging.file.name=logs/usiv-pdf-service.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# =================================================================
# CONFIGURACIÓN DE SEGURIDAD JWT
# =================================================================
jwt.secret=usiv-pdf-service-secret-key-2024-very-long-and-secure-key-for-production-validador
jwt.expiration=86400000
jwt.issuer=usiv-pdf-service
jwt.audience=usiv-clients
jwt.download-expiration=3600000

# Configuración de CORS
cors.allowed-origins=https://validador.usiv.cl,https://usiv.cl,https://www.usiv.cl
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600

# =================================================================
# CONFIGURACIÓN DE ALMACENAMIENTO DE ARCHIVOS
# =================================================================
pdf.storage.base-path=pdfs
pdf.storage.download-url=http://localhost:8080/download
pdf.storage.download-base-url=http://localhost:8080/download
pdf.cleanup.retention-months=6
pdf.cleanup.trash-retention-days=30
pdf.cleanup.trash-folder-name=_trash
pdf.cleanup.enabled=true

# =================================================================
# CONFIGURACIÓN DE FIRMA DIGITAL
# =================================================================
pdf.signature.p12-path=certs/demo.p12
pdf.signature.password=123456
pdf.signature.reason=Firmado digitalmente por USIV
pdf.signature.location=Santiago
pdf.signature.contact=contacto@usiv.cl

# =================================================================
# CONFIGURACIÓN DE CÓDIGOS QR
# =================================================================
qr.size=150
qr.margin=1
qr.error-correction=M

# =================================================================
# CONFIGURACIÓN DE SWAGGER/OPENAPI
# =================================================================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# =================================================================
# CONFIGURACIÓN DE ACTUATOR
# =================================================================
management.endpoints.web.exposure.include=health,info,metrics,env
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# Información de la aplicación para Actuator
info.app.name=USIV PDF Service
info.app.description=Servicio de generación y firma de documentos PDF
info.app.version=1.0.0
info.app.encoding=UTF-8
info.app.java.version=${java.version}

# =================================================================
# CONFIGURACIÓN DE VALIDACIÓN
# =================================================================
validation.rut.enabled=true
validation.rut.format=^[0-9]{7,8}-[0-9Kk]$
validation.license.format=^[A-Z]{1,2}[0-9]{6,8}$
validation.coordinates.precision=6